{"ast":null,"code":"var _jsxFileName = \"/home/dinhphu/Web-Technology-Lab/Project/Frontend-user/src/components/user/cart/Item.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport car from './images/item.jpg';\nimport * as API from '../../../constants/api_config';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Item(data) {\n  _s();\n\n  const [info, setInfo] = useState(data.data);\n  const [quantity, setQuantity] = useState(data.data.quantity);\n\n  function handleRemoveItem() {\n    fetch(API.DOMAIN + API.CART + \"/\" + window.localStorage.getItem('LCAR_USER_ID') + '/' + info.id, {\n      method: 'DELETE',\n      // or 'PUT'\n      headers: {\n        'accept': '*/*',\n        'Content-Type': 'application/json',\n        'Authorization': window.localStorage.getItem('LCAR_REMEMBER') ? window.localStorage.getItem(\"LCAR_TOKEN\") : window.sessionStorage.getItem(\"LCAR_TOKEN\")\n      },\n      credentials: \"same-origin\" // mode: 'no-cors'\n\n    }).then(response => {\n      return response.json();\n    }).then(data => {\n      if ((data === null || data === void 0 ? void 0 : data.status) == 404) {\n        alert(data.message);\n      } else if ((data === null || data === void 0 ? void 0 : data.status) == 200) {\n        document.getElementById('back-cart').click();\n        setInfo(false);\n      } else {\n        alert(\"ERROR\");\n      }\n    }).catch(error => {\n      console.error('Error:', error);\n    });\n  }\n\n  function handleChangeQuantity(qtt) {\n    fetch(API.DOMAIN + API.CART + \"/\" + window.localStorage.getItem('LCAR_USER_ID') + '/' + info.id, {\n      method: 'PUT',\n      // or 'PUT'\n      headers: {\n        'accept': '*/*',\n        'Content-Type': 'application/json',\n        'Authorization': window.localStorage.getItem('LCAR_REMEMBER') ? window.localStorage.getItem(\"LCAR_TOKEN\") : window.sessionStorage.getItem(\"LCAR_TOKEN\")\n      },\n      body: JSON.stringify({\n        quantity: qtt,\n        total_price: qtt * info.price / quantity\n      }),\n      credentials: \"same-origin\" // mode: 'no-cors'\n\n    }).then(response => {\n      return response.json();\n    }).then(data => {\n      if ((data === null || data === void 0 ? void 0 : data.status) == 404) {\n        alert(data.message);\n      } else if ((data === null || data === void 0 ? void 0 : data.status) == 200) {\n        document.getElementById('back-cart').click();\n        setInfo(false);\n      } else {\n        alert(\"ERROR\");\n      }\n    }).catch(error => {\n      console.error('Error:', error);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: info && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-item cart-column\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"cart-item-image\",\n          src: \"data:image/jpeg;base64, \" + info.image,\n          width: \"100\",\n          height: \"100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"cart-item-title\",\n          children: info.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"cart-price cart-column\",\n        children: [\"$\", info.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-quantity cart-column\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"cart-quantity-input\",\n          type: \"number\",\n          min: \"1\",\n          value: quantity,\n          onChange: e => {\n            handleChangeQuantity(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-danger\",\n          type: \"button\",\n          onClick: () => handleRemoveItem(),\n          children: \"REMOVE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        id: \"back-cart\",\n        href: \"/cart/\" + window.localStorage.getItem(\"LCAR_USER_ID\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Item, \"UyplTMeNfQXzii7fB5YuJnP2+BQ=\");\n\n_c = Item;\n\nvar _c;\n\n$RefreshReg$(_c, \"Item\");","map":{"version":3,"names":["useState","car","API","Link","Item","data","info","setInfo","quantity","setQuantity","handleRemoveItem","fetch","DOMAIN","CART","window","localStorage","getItem","id","method","headers","sessionStorage","credentials","then","response","json","status","alert","message","document","getElementById","click","catch","error","console","handleChangeQuantity","qtt","body","JSON","stringify","total_price","price","image","name","e","target","value"],"sources":["/home/dinhphu/Web-Technology-Lab/Project/Frontend-user/src/components/user/cart/Item.js"],"sourcesContent":["import { useState } from 'react'\nimport car from './images/item.jpg'\nimport * as API from '../../../constants/api_config'\nimport { Link } from 'react-router-dom';\n\nexport function Item(data) {\n\n    const [info, setInfo] = useState(data.data)\n    const [quantity, setQuantity] = useState(data.data.quantity)\n\n    function handleRemoveItem() {\n        fetch(API.DOMAIN + API.CART + \"/\" + window.localStorage.getItem('LCAR_USER_ID') + '/' + info.id, {\n            method: 'DELETE', // or 'PUT'\n            headers: {\n              'accept': '*/*',\n              'Content-Type': 'application/json',\n              'Authorization': (window.localStorage.getItem('LCAR_REMEMBER') ? window.localStorage.getItem(\"LCAR_TOKEN\") : window.sessionStorage.getItem(\"LCAR_TOKEN\"))\n            },\n            credentials: \"same-origin\",\n            // mode: 'no-cors'\n          })\n          .then(response => {\n            return response.json()})\n          .then(data => {\n            if (data?.status == 404) {\n                alert(data.message)\n            } else if (data?.status == 200) {\n                document.getElementById('back-cart').click()\n                setInfo(false)\n            } else {\n                alert(\"ERROR\")\n            }\n          })\n          .catch((error) => {\n            console.error('Error:', error);\n          });\n    }\n\n    function handleChangeQuantity(qtt) {\n        fetch(API.DOMAIN + API.CART + \"/\" + window.localStorage.getItem('LCAR_USER_ID') + '/' + info.id, {\n            method: 'PUT', // or 'PUT'\n            headers: {\n              'accept': '*/*',\n              'Content-Type': 'application/json',\n              'Authorization': (window.localStorage.getItem('LCAR_REMEMBER') ? window.localStorage.getItem(\"LCAR_TOKEN\") : window.sessionStorage.getItem(\"LCAR_TOKEN\"))\n            },\n            body: JSON.stringify({quantity: qtt, total_price: qtt * info.price / quantity}),\n            credentials: \"same-origin\",\n            // mode: 'no-cors'\n          })\n          .then(response => {\n            return response.json()})\n          .then(data => {\n            if (data?.status == 404) {\n                alert(data.message)\n            } else if (data?.status == 200) {\n                document.getElementById('back-cart').click()\n                setInfo(false)\n            } else {\n                alert(\"ERROR\")\n            }\n          })\n          .catch((error) => {\n            console.error('Error:', error);\n          });\n    }\n\n    return (\n        <div>\n        {info &&\n            <div className=\"cart-row\">\n                <div className=\"cart-item cart-column\">\n                    <img className=\"cart-item-image\" src={\"data:image/jpeg;base64, \" + info.image} width=\"100\" height=\"100\"/>\n                    <span className=\"cart-item-title\">{info.name}</span>\n                </div>\n                <span className=\"cart-price cart-column\">${info.price}</span>\n                <div className=\"cart-quantity cart-column\">\n                    <input className=\"cart-quantity-input\" type=\"number\" min=\"1\" value={quantity}\n                        onChange={(e) => {\n                            handleChangeQuantity(e.target.value)\n                        }}\n                    />\n                    <button className=\"btn btn-danger\" type=\"button\"\n                        onClick={() => handleRemoveItem()}\n                    >REMOVE</button>\n                </div>\n                <a id=\"back-cart\" href={\"/cart/\" + window.localStorage.getItem(\"LCAR_USER_ID\")}></a>\n            </div>\n        }\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}